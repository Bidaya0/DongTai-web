(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-454d709c"],{"0366":function(t,e,a){"use strict";a("4920")},4920:function(t,e,a){},cbf4:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",[a("div",{staticClass:"footerBg"}),a("div",{staticClass:"container flex-row-space-between"},[a("div",{staticClass:"sliderWarp"},[a("div",{staticClass:"step linghtStep"},[t._v("1")]),a("div",{staticClass:"transitionline",class:t.curStep>=2?"lightLine":"grayLine"}),a("div",{staticClass:"step",class:t.curStep>=2?"linghtStep":"grayStep"},[t._v(" 2 ")]),a("div",{staticClass:"transitionline",class:3===t.curStep?"lightLine":"grayLine"}),a("div",{staticClass:"step",class:3===t.curStep?"linghtStep":"grayStep"},[t._v(" 3 ")])]),a("div",{staticClass:"contentWarp"},[1===t.curStep?a("div",{staticClass:"stepWarp"},[a("el-form",{attrs:{"label-position":"top"},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",[a("div",{staticClass:"title"},[t._v("第一步，选择Agent类型")])]),a("el-form-item",[a("div",{staticClass:"label",staticStyle:{}},[t._v("请选择Agent类型")]),a("el-select",{staticClass:"deploySelect",staticStyle:{width:"514px"},attrs:{placeholder:"请选择Agent类型"},model:{value:t.deployForm.agent,callback:function(e){t.$set(t.deployForm,"agent",e)},expression:"deployForm.agent"}},t._l(t.agents,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),a("el-form-item",[a("div",{staticClass:"desc"},[t._v(" 根据应用程序使用的开发语言选择对应的Agent类型，使用Java语言开发的应用程序选择Java、使用c#、.Net Framework开发的应用程序选择.Net Framework、使用.Net Core开发的应用程序选择.Net Core ")])]),a("el-form-item",{staticStyle:{"margin-top":"50px"}},[a("el-button",{staticClass:"nextBtn",attrs:{type:"text"},on:{click:function(e){t.curStep=2}}},[t._v(" 下一步 ")])],1)],1)],1):t._e(),2===t.curStep?a("div",{staticClass:"stepWarp"},[a("el-form",{attrs:{"label-position":"top"},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",[a("div",{staticClass:"title"},[t._v("第二步，选择应用的运行环境")])]),a("el-form-item",[a("div",{staticClass:"label",staticStyle:{}},[t._v("Java版本")]),a("el-select",{staticClass:"deploySelect",staticStyle:{width:"514px"},attrs:{placeholder:"请选择Java版本"},model:{value:t.deployForm.javaVersion,callback:function(e){t.$set(t.deployForm,"javaVersion",e)},expression:"deployForm.javaVersion"}},t._l(t.javaVersion,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),a("el-form-item",[a("div",{staticClass:"label",staticStyle:{}},[t._v("中间件")]),a("el-select",{staticClass:"deploySelect",staticStyle:{width:"514px"},attrs:{placeholder:"请选择中间件"},model:{value:t.deployForm.middleware,callback:function(e){t.$set(t.deployForm,"middleware",e)},expression:"deployForm.middleware"}},t._l(t.middlewares,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),a("el-form-item",[a("div",{staticClass:"label",staticStyle:{}},[t._v("操作系统")]),a("el-select",{staticClass:"deploySelect",staticStyle:{width:"514px"},attrs:{placeholder:"请选择操作系统"},model:{value:t.deployForm.system,callback:function(e){t.$set(t.deployForm,"system",e)},expression:"deployForm.system"}},t._l(t.system,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),a("el-form-item",{staticStyle:{"margin-top":"50px"}},[a("el-button",{staticClass:"prevBtn",attrs:{type:"text"},on:{click:function(e){t.curStep=1}}},[t._v(" 上一步 ")]),a("el-button",{staticClass:"nextBtn",attrs:{type:"text"},on:{click:t.agentDeploySubmit}},[t._v(" 下一步 ")])],1)],1)],1):t._e(),3===t.curStep?a("div",{staticClass:"stepWarp"},[a("el-form",{attrs:{"label-position":"top"},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"title"},[t._v("第三步，下载与配置")]),a("div",{staticClass:"token"},[a("p",{staticStyle:{color:"#4a72ae"}},[t._v("为了启用洞态，需要增加如下JVM配置")]),a("p",[t._v("-javaagent:/path/to/server/agent.jar")])])]),a("el-form-item",{staticStyle:{"margin-bottom":"0"}},[a("div",{staticClass:"label",staticStyle:{}},[t._v("下载")]),a("div",{staticClass:"downloadInfo"},[a("div",{staticClass:"desc"},[t._v(" 下载洞态IAST的Agent，将agent.jar文件放入WEB服务器（中间件）所在机器上，保证agent.jar文件所在目录具有可写权限 ")]),a("div",{staticClass:"moudleTitle"},[t._v(" 手动下载： "),a("button",{staticClass:"downloadBtn",attrs:{type:"text"},on:{click:t.agentDownload}},[a("i",{staticClass:"el-icon-download"}),t._v(" 点击下载 ")])]),a("div",{staticClass:"moudleTitle"},[t._v("自动下载：")]),a("div",{staticClass:"command token"},[t._v(" "+t._s('curl -X GET "'+t.url+"/api/v1/agent/download?url="+t.url+"&jdk.version="+encodeURI(this.deployForm.javaVersion)+"\" -H 'Authorization: Token "+t.userToken+"' -o agent.jar -k")+" ")])])]),a("el-form-item",[a("div",{staticClass:"label",staticStyle:{}},[t._v("配置")]),a("div",{staticClass:"descWarp"},[a("MyMarkdownIt",{attrs:{content:t.desc}})],1)]),a("el-form-item",{staticStyle:{"margin-top":"50px"}},[a("el-button",{staticClass:"prevBtn",attrs:{type:"text"},on:{click:function(e){t.curStep=2}}},[t._v(" 上一步 ")]),a("el-button",{staticClass:"nextBtn",attrs:{type:"text"},on:{click:t.agentDeployFinish}},[t._v(" 完成 ")])],1)],1)],1):t._e()])])])},r=[],n=a("60b5"),i=a("303e"),l=a("acf6"),o=a("e378"),c=a("a8e5"),u=(a("6a61"),a("21c9")),p=a("8c73"),d=a("e4a1"),v=function(t){Object(o["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.curStep=1,t.deployForm={agent:"",javaVersion:"",middleware:"",system:""},t.agents=[],t.javaVersion=[],t.middlewares=[],t.system=[],t.userToken="",t.desc="",t.url="",t}return Object(l["a"])(a,[{key:"created",value:function(){this.getDeplogInfo(),this.agentDeployInfo(),this.getOpenApiUrl()}},{key:"getOpenApiUrl",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.services.deploy.getOpenApiUrl();case 2:if(e=t.sent,a=e.status,s=e.msg,r=e.data,201===a){t.next=9;break}return this.$message.error(s),t.abrupt("return");case 9:this.url=r.url;case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getDeplogInfo",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,s,r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loadingStart(),t.next=3,this.services.deploy.getDeplogInfo();case 3:if(e=t.sent,a=e.status,s=e.msg,r=e.data,e.step,n=e.user_token,i=e.desc,this.loadingDone(),201===a){t.next=14;break}return this.$message.error(s),t.abrupt("return");case 14:this.userToken=n,this.desc=i,this.deployForm={agent:r.agent_value,javaVersion:r.java_version,middleware:r.middleware,system:r.system};case 17:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"agentDeployInfo",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loadingStart(),t.next=3,this.services.deploy.agentDeployInfo();case 3:if(e=t.sent,a=e.status,s=e.msg,r=e.data,this.loadingDone(),201===a){t.next=11;break}return this.$message.error(s),t.abrupt("return");case 11:this.agents=r.agents,this.javaVersion=r.java_version,this.middlewares=r.middlewares,this.system=r.system;case 15:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"agentDownload",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loadingStart(),t.next=3,this.services.deploy.agentDownload(this.url,this.deployForm.javaVersion);case 3:this.loadingDone();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"agentDeploySubmit",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,s,r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={agent_value:this.deployForm.agent,java_version:this.deployForm.javaVersion,middleware:this.deployForm.middleware,system:this.deployForm.system},this.loadingStart(),t.next=4,this.services.deploy.agentDeploySubmit(e);case 4:if(a=t.sent,s=a.status,r=a.msg,n=a.user_token,i=a.desc,this.loadingDone(),201===s){t.next=13;break}return this.$message.error(r),t.abrupt("return");case 13:this.curStep=3,this.userToken=n,this.desc=i;case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"agentDeployFinish",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.curStep=1,this.$router.push("/");case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),a}(p["a"]);v=Object(u["c"])([Object(d["a"])({name:"Deploy"})],v);var m=v,y=m,h=(a("0366"),a("5d22")),g=Object(h["a"])(y,s,r,!1,null,"191af5c3",null);e["default"]=g.exports}}]);
//# sourceMappingURL=chunk-454d709c.17455057.js.map