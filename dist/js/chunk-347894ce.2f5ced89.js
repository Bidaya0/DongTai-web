(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-347894ce"],{"19c5":function(e,t,a){},"2f05":function(e,t,a){"use strict";a("a31c")},"97b0":function(e,t,a){"use strict";a("19c5")},a31c:function(e,t,a){},a55b:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",[a("div",{staticClass:"loginContainer"},[a("div",{staticClass:"loginCard"},[a("div",{staticClass:"title"},["zh_cn"==this.$i18n.locale?a("img",{staticStyle:{width:"140px"},attrs:{src:"/upload/assets/img/logo.png",alt:"logo"}}):e._e(),"en"==this.$i18n.locale?a("img",{staticStyle:{width:"140px"},attrs:{src:"/upload/assets/img/logo_en.png",alt:"logo"}}):e._e()]),a("div",{staticClass:"subTitle"},[a("span",{staticClass:"line"}),e._v(" "+e._s(e.$t("views.login.subTitle"))+" "),a("span",{staticClass:"line"})]),a("el-form",{staticStyle:{"margin-top":"10px"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}}},[a("el-form-item",{attrs:{label:e.$t("views.login.user")}},[a("el-input",{attrs:{clearable:"",placeholder:e.$t("views.login.usernamePlaceholder")},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1),a("el-form-item",{attrs:{label:e.$t("views.login.password")}},[a("el-input",{attrs:{"show-password":"",clearable:"",placeholder:e.$t("views.login.passwordPlaceholder")},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("el-form-item",{attrs:{label:e.$t("views.login.captcha")}},[a("br"),a("el-input",{staticStyle:{width:"80%"},attrs:{clearable:"",placeholder:e.$t("views.login.captchaPlaceholder")},model:{value:e.captcha,callback:function(t){e.captcha=t},expression:"captcha"}}),a("el-image",{staticStyle:{position:"absolute",height:"36px","margin-top":"2px","margin-left":"10px"},attrs:{src:e.captcha_url},on:{click:function(t){return e.initCaptcha()}}})],1),a("el-form-item",{staticStyle:{"margin-top":"54px"}},[a("el-button",{staticStyle:{width:"100%",background:"#4a72ae"},attrs:{type:"primary"},on:{click:e.login}},[e._v(e._s(e.$t("base.login"))+" ")])],1)],1)],1)]),a("div",{staticClass:"loginFooter"})])},i=[],r=(a("96cf"),a("1da1")),n=a("d4ec"),c=a("bee2"),l=a("262e"),o=a("2caf"),u=a("9ab4"),h=a("60a3"),p=a("8c73"),g=function(e){Object(l["a"])(a,e);var t=Object(o["a"])(a);function a(){var e;return Object(n["a"])(this,a),e=t.apply(this,arguments),e.userName="",e.password="",e.captcha="",e.captcha_hash_key="",e.captcha_url="",e.login_lock=!1,e}return Object(c["a"])(a,[{key:"created",value:function(){this.initCaptcha()}},{key:"initCaptcha",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.services.user.initCaptcha();case 2:if(t=e.sent,a=t.status,s=t.data,i=t.msg,201===a){e.next=9;break}return this.$message({type:"error",message:i,showClose:!0}),e.abrupt("return");case 9:this.captcha_url=s["image_url"],this.captcha_hash_key=s["hash_key"];case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"login",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a,s,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.login_lock){e.next=2;break}return e.abrupt("return");case 2:return this.login_lock=!0,t={username:this.userName,password:this.password,captcha:this.captcha,captcha_hash_key:this.captcha_hash_key},this.loadingStart(),e.next=7,this.services.user.login(t);case 7:return a=e.sent,s=a.status,i=a.msg,r=navigator.language||navigator.userLanguage,r=r.substr(0,2),e.next=14,this.services.setting.setLang(r);case 14:if(this.loadingDone(),201!==s){e.next=22;break}return e.next=18,this.$store.dispatch("user/getUserInfo");case 18:return e.next=20,this.$router.push("/project");case 20:e.next=23;break;case 22:204===s?this.$message({type:"error",message:i,showClose:!0}):203!==s&&202!==s||(this.$message({type:"error",message:i,showClose:!0}),this.initCaptcha());case 23:this.login_lock=!1;case 24:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),a}(p["a"]);g=Object(u["b"])([Object(h["a"])({name:"Login"})],g);var m=g,d=m,b=(a("2f05"),a("97b0"),a("2877")),f=Object(b["a"])(d,s,i,!1,null,"16b9ca42",null);t["default"]=f.exports}}]);
//# sourceMappingURL=chunk-347894ce.2f5ced89.js.map